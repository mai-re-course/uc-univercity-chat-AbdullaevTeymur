
# Регистрация пользователя

**Акторы:** 

- Пользователь
- Система
- Бэкенд

**Цель:** Как пользователь, я хочу зарегистрироваться чтобы авторизоваться в чате

**Предусловия:** Пользователь запускает клиент чата

**Сценарий:**

1. Пользователь начинает регистрацию, нажав на кнопку регистрация.
2. Система запрашивает способ регистрации (по номеру телефона , Email адресу).
3. Пользователь выбирает способ регистрации по номеру телефона, нажав на кнопку.
4. Пользователь вводит номер телефона.
5. Система отсылает введенный номер на бэкенд.
6. Бэкенд отсылает sms сообщение с регистрационным кодом на введенный номер.
7. Система запрашивает регистрационный код.
8. Пользователь вводит регистрационный код.
9. Система отсылает введенный код на бэкенд для проверки на сходимость.
10. Бэкенд отсылает подтверждение системе.
11. Система запрашивает данные ( ФИО, Должность, учебную группу(для должности студент), дату рождения, пароль, подтверждение пароля, согласие на обработку персональных данных)
12. Пользователь вводит данные ,запрашиваемые системой
13. Система проверяет данные на соответствие требованиям шаблона
14. Система отправляет данные на бэкенд
15. Бэкенд добавляет данные о пользователе в базу данных 
{Успешная регистрация}
16. Бекенд возвращает ответ успешной регистрации
17. Система выводит на экран запись об успешной регистрации


**Результат:**

- В базу данных добавлен новый пользователь

**Исключения:**

4. Если пользователь ввел уже зарегистрированный Email или номер телефона, система сообщает об этом и происходит возврат на шаг 4
10. Если код не соответствует отправленному, то система сообщает об этом и происходит возврат на шаг 7 
13. Если введенные данные не соответствуют шаблону, то система сообщает это, и подчеркивает красной волнистой линий, те данные в которых получилось отличие, происходит возврат к шагу 11

**Альтернативный сценарий:** 

3. Пользователь выбирает способ регистрации по Email адресу , нажав на кнопку.
4. Пользователь вводит Email адрес.
5. Система отсылает введенный Email адрес на бэкенд.
6. Бэкенд отсылаетсообщение с регистрационным кодом на введенный Email адрес.
7. Система запрашивает регистрационный код.
8. Возврат на шаг 8 основного сценария.








# Авторизация пользователя

**Акторы:** 

- Пользователь
- Система


**Цель:** Как пользователь, я хочу авторизоваться чтобы использовать функции чата

**Предусловия:** Пользователь регистрируется в системе

**Сценарий:**

1. Система Запрашивает логин и пароль Пользователя.
2. Пользователь Вводит логин и пароль.
3. Пользователь Нажимает кнопку «ОК».
4. Система Проверяет логин и пароль.
5. Система Логин и пароль верны.
6. Система Разрешает вход в чат.

**Альтернативный сценарий 3.а. Пользователь нажимает кнопку «Cancel»**

3а.1. Система Очищает поля ввода логина и пароля Пользователя.

3а.2. Система Ожидание действий Пользователя .

**Альтернативный сценарий 4а. Логин отсутствует в базе данных**

4а.1. Система Уведомляет пользователя: Не найден логин пользователя.

   начинается сценарий [Регистрация пользователя]


**Альтернативный сценарий 4б. Пароль неверен** 

4б.1. Система Уведомляет пользователя о неверном пароле.
4б.2. Система Предлагает пользователю ввести верный пароль.
4б.3. Пользователь Повторяет ввод пароля.
4б.4. Пользователь Нажимает кнопку «ОК» .
4б.5. Система Проверяет пароль.
4б.6. Система выводит сообщение Пароль верен.
4б.7. Система Разрешает вход в систему .


**Альтернативный сценарий 4в. Забыл пароль** 

4б.1. Система Уведомляет пользователя о неверном пароле.
4б.2. Система Предлагает пользователю ввести верный пароль.
4б.3. Пользователь Нажимает кнопку «Забыл пароль».
4б.4. Система Выполняет сброс пароля.
4б.5. Система Предлагает пользователю ввести новый пароль.
4б.6. Система Сохраняет новый пароль.
4б.8. Система Разрешает вход в систему .

**Результат:**

- Пользователь получил доступ к функциям чата.






































# Название сценария отглагольным существительным

**Акторы:** 

- Актор обычно основной пользователь
- Используемые системы тоже акторы

**Цель:** цель, которую хочет достичь пользователь. Хорошо описывается в формате user story

**Предусловия:** условия, без которых не может начаться сценарий.

**Сценарий:**

1. Нумерованный список шагов.
2. Каждый шаг описан по формуле: «актор действие дополнение». Пример ниже.
3. Пользователь создаёт персональный чат, нажав на кнопку создания чата.
4. В шагах можно делать отсылки на альтернативные ветки или другие сценарии. Детально альтернативы стоит расписывать отдельно, здесь дать только отсылку. Пример ниже.

    Если пользователь выбрал больше чем одного, начинается сценарий [Создание группового чата].

{Успешное создание чата}

5. Бекенд возвращает ответ успешного создания чата.

**Результат:**

- Список значимых результатов сценария.
- В базу данных добавлен новый чат.

**Исключения:**

1. Список ошибок, которые могут возникнуть во время сценария, с номером соответствующего шага, в котором возникает ошибка. Пример ниже.
3. Если других пользователей нет показывается ошибка.

**Альтернативный сценарий:** 

4. Начало с того шага основного сценария, с которого начинается альтернативный.
5. Шаги альтернативного сценария. В конце обязательно отсылка с возврат на нужный шаг основного сценария, либо явное завершение сценария целиком.
6. Возврат на шаг 3 основного сценария.




